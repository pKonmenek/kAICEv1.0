[<div class="_3OvU8"><div aria-colindex="2" class="_3vPI2" role="gridcell"><div class="zoWT4">Archivées</div></div></div>, <div class="_3OvU8 _1BgCC"><div class="hlFup"><span aria-label="3 messages non-lus" class="l7jjieqr cfzgl7ar ei5e7seu h0viaqh7 tpmajp1w c0uhu3dl riy2oczp dsh4tgtl sy6s5v3r gz7w46tb io08vzmp qfejxiq4 fewfhwl7 thr4l2wc ap18qm3b ikwl5qvt j90th5db aumms1qt">3</span></div></div>, 
<div class="_3OvU8"><div aria-colindex="2" class="_3vPI2" role="gridcell"><div class="zoWT4"><span class="ggj6brxn gfz4du6o r7fjleex g0rxnol2 lhj4utae le5p0ye3 l7jjieqr i0jNr" dir="auto" title="Papa Franck">Papa Franck</span></div><div class="_1i_wG"></div></div><div class="_37FrU"><div class="_1qB8f"></div><div aria-colindex="1" class="_1i_wG" role="gridcell"><span></span><span></span><span></span></div></div></div>,
 <div class="_3OvU8"><div aria-colindex="2" class="_3vPI2" role="gridcell"><div class="zoWT4"><span class="ggj6brxn gfz4du6o r7fjleex g0rxnol2 lhj4utae le5p0ye3 l7jjieqr i0jNr" dir="auto" title="Maa Gisèle">Maa Gisèle</span></div><div class="_1i_wG">hier</div></div><div class="_37FrU"><div class="_1qB8f"><span class="Hy9nV" title="Les gens pleurent le foirage"><div class="_2qo4q _3NIfV"><span class="" data-icon="status-dblcheck" data-testid="status-dblcheck"><svg class="" height="18" viewbox="0 0 18 18" width="18"><path d="m17.394 5.035-.57-.444a.434.434 0 0 0-.609.076l-6.39 8.198a.38.38 0 0 1-.577.039l-.427-.388a.381.381 0 0 0-.578.038l-.451.576a.497.497 0 0 0 .043.645l1.575 1.51a.38.38 0 0 0 .577-.039l7.483-9.602a.436.436 0 0 0-.076-.609zm-4.892 0-.57-.444a.434.434 0 0 0-.609.076l-6.39 8.198a.38.38 0 0 1-.577.039l-2.614-2.556a.435.435 0 0 0-.614.007l-.505.516a.435.435 0 0 0 .007.614l3.887 3.8a.38.38 0 0 0 .577-.039l7.483-9.602a.435.435 0 0 0-.075-.609z" fill="currentColor"></path></svg></span></div><span class="ggj6brxn gfz4du6o r7fjleex g0rxnol2 lhj4utae le5p0ye3 l7jjieqr i0jNr" dir="ltr">Les gens pleurent le foirage</span></span></div><div aria-colindex="1" class="_1i_wG" role="gridcell"><span></span><span></span><span></span></div></div></div>, <div class="_3OvU8"><div aria-colindex="2" class="_3vPI2" role="gridcell"><div class="zoWT4"><span class="ggj6brxn gfz4du6o r7fjleex g0rxnol2 lhj4utae le5p0ye3 l7jjieqr i0jNr" dir="auto" title="Yhann">Yhann</span></div><div class="_1i_wG"></div></div><div class="_37FrU"><div class="_1qB8f"></div><div aria-colindex="1" class="_1i_wG" role="gridcell"><span></span><span></span><span></span></div></div></div>, <div class="_3OvU8"><div aria-colindex="2" class="_3vPI2" role="gridcell"><div class="zoWT4"><span class="ggj6brxn gfz4du6o r7fjleex g0rxnol2 lhj4utae le5p0ye3 l7jjieqr i0jNr" dir="auto" title="Johnson">Johnson</span></div><div class="_1i_wG"></div></div><div class="_37FrU"><div class="_1qB8f"></div><div aria-colindex="1" class="_1i_wG" role="gridcell"><span></span><span></span><span></span></div></div></div>, <div class="_3OvU8"><div aria-colindex="2" class="_3vPI2" role="gridcell"><div class="zoWT4"><span class="ggj6brxn gfz4du6o r7fjleex g0rxnol2 lhj4utae le5p0ye3 l7jjieqr i0jNr" dir="auto" title="Miage&amp; ING.">Miage&amp; ING.</span></div><div class="_1i_wG">07:52</div></div><div class="_37FrU"><div class="_1qB8f"><span class="Hy9nV" title="Bonjour"><span class="l7jjieqr i0jNr" dir="auto">André</span><span>: </span><span class="ggj6brxn gfz4du6o r7fjleex g0rxnol2 lhj4utae le5p0ye3 l7jjieqr i0jNr" dir="ltr">Bonjour</span></span></div><div aria-colindex="1" class="_1i_wG" role="gridcell"><span><div class="_1pJ9J"><span aria-label="49 messages non-lus" class="l7jjieqr cfzgl7ar ei5e7seu h0viaqh7 tpmajp1w c0uhu3dl riy2oczp dsh4tgtl sy6s5v3r gz7w46tb lyutrhe2 qfejxiq4 fewfhwl7 ovhn1urg ap18qm3b ikwl5qvt j90th5db aumms1qt">49</span></div></span><span></span><span></span></div></div></div>, <div class="_3OvU8"><div aria-colindex="2" class="_3vPI2" role="gridcell"><div class="zoWT4"><span class="ggj6brxn gfz4du6o r7fjleex g0rxnol2 lhj4utae le5p0ye3 l7jjieqr i0jNr" dir="auto" title="Perrin">Perrin</span></div><div class="_1i_wG">09:20</div></div><div class="_37FrU"><div class="_1qB8f"><span class="Hy9nV" title="J'imagine"><span class="ggj6brxn gfz4du6o r7fjleex g0rxnol2 lhj4utae le5p0ye3 l7jjieqr i0jNr" dir="ltr">J'imagine</span></span></div><div aria-colindex="1" class="_1i_wG" role="gridcell"><span></span><span></span><span></span></div></div></div>, <div class="_3OvU8"><div aria-colindex="2" class="_3vPI2" role="gridcell"><div class="zoWT4"><span class="ggj6brxn gfz4du6o r7fjleex g0rxnol2 lhj4utae le5p0ye3 l7jjieqr i0jNr" dir="auto" title="Maa Anne-marie">Maa Anne-marie</span></div><div class="_1i_wG"></div></div><div class="_37FrU"><div class="_1qB8f"></div><div aria-colindex="1" class="_1i_wG" role="gridcell"><span></span><span></span><span></span></div></div></div>, <div class="_3OvU8"><div aria-colindex="2" class="_3vPI2" role="gridcell"><div class="zoWT4"><span class="ggj6brxn gfz4du6o r7fjleex g0rxnol2 lhj4utae le5p0ye3 l7jjieqr i0jNr" dir="auto" title="Journal des Étudiants">Journal des Étudiants</span></div><div class="_1i_wG"></div></div><div class="_37FrU"><div class="_1qB8f"></div><div aria-colindex="1" class="_1i_wG" role="gridcell"><span><div class="_1pJ9J"><span aria-label="1 message non-lu" class="l7jjieqr cfzgl7ar ei5e7seu h0viaqh7 tpmajp1w c0uhu3dl riy2oczp dsh4tgtl sy6s5v3r gz7w46tb lyutrhe2 qfejxiq4 fewfhwl7 ovhn1urg ap18qm3b ikwl5qvt j90th5db aumms1qt">1</span></div></span><span></span><span></span></div></div></div>, <div class="_3OvU8"><div aria-colindex="2" class="_3vPI2" role="gridcell"><div class="zoWT4"><span class="ggj6brxn gfz4du6o r7fjleex g0rxnol2 lhj4utae le5p0ye3 l7jjieqr i0jNr" dir="auto" title="ANCIEN IAI (ASSECI)">ANCIEN IAI (ASSECI)</span></div><div class="_1i_wG">09:41</div></div><div class="_37FrU"><div class="_1qB8f"><span class="Hy9nV" title="Photo"><span class="l7jjieqr i0jNr" dir="auto">+241 06 25 95 26</span><span>: </span><div class="_2tHs0 status-image _3Bn0t"><span class="" data-icon="status-image" data-testid="status-image"><svg class="" height="20" viewbox="0 0 16 20" width="16"><path d="M13.822 4.668H7.14l-1.068-1.09a1.068 1.068 0 0 0-.663-.278H3.531c-.214 0-.51.128-.656.285L1.276 5.296c-.146.157-.266.46-.266.675v1.06l-.001.003v6.983c0 .646.524 1.17 1.17 1.17h11.643a1.17 1.17 0 0 0 1.17-1.17v-8.18a1.17 1.17 0 0 0-1.17-1.169zm-5.982 8.63a3.395 3.395 0 1 1 0-6.79 3.395 3.395 0 0 1 0 6.79zm0-5.787a2.392 2.392 0 1 0 0 4.784 2.392 2.392 0 0 0 0-4.784z" fill="currentColor"></path></svg></span></div><span class="ggj6brxn gfz4du6o r7fjleex g0rxnol2 lhj4utae le5p0ye3 l7jjieqr i0jNr" dir="auto">Photo</span></span></div><div aria-colindex="1" class="_1i_wG" role="gridcell"><span><div class="_1pJ9J"><span aria-label="35 messages non-lus" class="l7jjieqr cfzgl7ar ei5e7seu h0viaqh7 tpmajp1w c0uhu3dl riy2oczp dsh4tgtl sy6s5v3r gz7w46tb lyutrhe2 qfejxiq4 fewfhwl7 ovhn1urg ap18qm3b ikwl5qvt j90th5db aumms1qt">35</span></div></span><span></span><span></span></div></div></div>, <div class="_3OvU8"><div aria-colindex="2" class="_3vPI2" role="gridcell"><div class="zoWT4"><span class="ggj6brxn gfz4du6o r7fjleex g0rxnol2 lhj4utae le5p0ye3 l7jjieqr i0jNr" dir="auto" title="Kofra CM">Kofra CM</span></div><div class="_1i_wG">10:33</div></div><div class="_37FrU"><div class="_1qB8f"><span class="Hy9nV" title="Comment tu vas ?"><span class="ggj6brxn gfz4du6o r7fjleex g0rxnol2 lhj4utae le5p0ye3 l7jjieqr i0jNr" dir="ltr">Comment tu vas ?</span></span></div><div aria-colindex="1" class="_1i_wG" role="gridcell"><span><div class="_1pJ9J"><span aria-label="1 message non-lu" class="l7jjieqr cfzgl7ar ei5e7seu h0viaqh7 tpmajp1w c0uhu3dl riy2oczp dsh4tgtl sy6s5v3r gz7w46tb lyutrhe2 qfejxiq4 fewfhwl7 ovhn1urg ap18qm3b ikwl5qvt j90th5db aumms1qt">1</span></div></span><span></span><span></span></div></div></div>, <div class="_3OvU8"><div aria-colindex="2" class="_3vPI2" role="gridcell"><div class="zoWT4"><span class="ggj6brxn gfz4du6o r7fjleex g0rxnol2 lhj4utae le5p0ye3 l7jjieqr i0jNr" dir="auto" title="Famille WABO SOUOP DJOKO">Famille WABO SOUOP DJOKO</span></div><div class="_1i_wG"></div></div><div class="_37FrU"><div class="_1qB8f"></div><div aria-colindex="1" class="_1i_wG" role="gridcell"><span><div class="_1pJ9J"><span aria-label="12 messages non-lus" class="l7jjieqr cfzgl7ar ei5e7seu h0viaqh7 tpmajp1w c0uhu3dl riy2oczp dsh4tgtl sy6s5v3r gz7w46tb lyutrhe2 qfejxiq4 fewfhwl7 ovhn1urg ap18qm3b ikwl5qvt j90th5db aumms1qt">12</span></div></span><span></span><span></span></div></div></div>, <div class="_3OvU8"><div aria-colindex="2" class="_3vPI2" role="gridcell"><div class="zoWT4"><span class="ggj6brxn gfz4du6o r7fjleex g0rxnol2 lhj4utae le5p0ye3 l7jjieqr i0jNr" dir="auto" title="Cyrille">Cyrille</span></div><div class="_1i_wG"></div></div><div class="_37FrU"><div class="_1qB8f"></div><div aria-colindex="1" class="_1i_wG" role="gridcell"><span></span><span></span><span></span></div></div></div>, <div class="_3OvU8"><div aria-colindex="2" class="_3vPI2" role="gridcell"><div class="zoWT4"><span class="ggj6brxn gfz4du6o r7fjleex g0rxnol2 lhj4utae le5p0ye3 l7jjieqr i0jNr" dir="auto" title="Alex IAI">Alex IAI</span></div><div class="_1i_wG"></div></div><div class="_37FrU"><div class="_1qB8f"></div><div aria-colindex="1" class="_1i_wG" role="gridcell"><span></span><span></span><span></span></div></div></div>, <div class="_3OvU8"><div aria-colindex="2" class="_3vPI2" role="gridcell"><div class="zoWT4"><span class="ggj6brxn gfz4du6o r7fjleex g0rxnol2 lhj4utae le5p0ye3 l7jjieqr i0jNr" dir="auto" title="Prime">Prime</span></div><div class="_1i_wG"></div></div><div class="_37FrU"><div class="_1qB8f"></div><div aria-colindex="1" class="_1i_wG" role="gridcell"><span></span><span></span><span></span></div></div></div>, <div class="_3OvU8"><div aria-colindex="2" class="_3vPI2" role="gridcell"><div class="zoWT4"><span class="ggj6brxn gfz4du6o r7fjleex g0rxnol2 lhj4utae le5p0ye3 l7jjieqr i0jNr" dir="auto" title="Soutien à Philippe">Soutien à Philippe</span></div><div class="_1i_wG"></div></div><div class="_37FrU"><div class="_1qB8f"></div><div aria-colindex="1" class="_1i_wG" role="gridcell"><span><div class="_1pJ9J"><span aria-label="10 messages non-lus" class="l7jjieqr cfzgl7ar ei5e7seu h0viaqh7 tpmajp1w c0uhu3dl riy2oczp dsh4tgtl sy6s5v3r gz7w46tb lyutrhe2 qfejxiq4 fewfhwl7 ovhn1urg ap18qm3b ikwl5qvt j90th5db aumms1qt">10</span></div></span><span></span><span></span></div></div></div>, <div class="_3OvU8"><div aria-colindex="2" class="_3vPI2" role="gridcell"><div class="zoWT4"><span class="ggj6brxn gfz4du6o r7fjleex g0rxnol2 lhj4utae le5p0ye3 l7jjieqr i0jNr" dir="auto" title="Infos ASSECI">Infos ASSECI</span></div><div class="_1i_wG">hier</div></div><div class="_37FrU"><div class="_1qB8f"><span class="Hy9nV" title="Présent actuellement sur lbv de préférence"><span class="l7jjieqr i0jNr" dir="auto">Yannick </span><span>: </span><span class="ggj6brxn gfz4du6o r7fjleex g0rxnol2 lhj4utae le5p0ye3 l7jjieqr i0jNr" dir="ltr">Présent actuellement sur lbv de préférence</span></span></div><div aria-colindex="1" class="_1i_wG" role="gridcell"><span><div class="_1pJ9J"><span aria-label="3 messages non-lus" class="l7jjieqr cfzgl7ar ei5e7seu h0viaqh7 tpmajp1w c0uhu3dl riy2oczp dsh4tgtl sy6s5v3r gz7w46tb lyutrhe2 qfejxiq4 fewfhwl7 ovhn1urg ap18qm3b ikwl5qvt j90th5db aumms1qt">3</span></div></span><span></span><span></span></div></div></div>, <div class="_3OvU8"><div aria-colindex="2" class="_3vPI2" role="gridcell"><div class="zoWT4"><span class="ggj6brxn gfz4du6o r7fjleex g0rxnol2 lhj4utae le5p0ye3 l7jjieqr i0jNr" dir="auto" title="Famille ASSECI">Famille ASSECI</span></div><div class="_1i_wG">hier</div></div><div class="_37FrU"><div class="_1qB8f"><span class="Hy9nV" title="Ok top"><span class="l7jjieqr i0jNr" dir="auto">Yannick </span><span>: </span><span class="ggj6brxn gfz4du6o r7fjleex g0rxnol2 lhj4utae le5p0ye3 l7jjieqr i0jNr" dir="ltr">Ok top</span></span></div><div aria-colindex="1" class="_1i_wG" role="gridcell"><span><div class="_1pJ9J"><span aria-label="36 messages non-lus" class="l7jjieqr cfzgl7ar ei5e7seu h0viaqh7 tpmajp1w c0uhu3dl riy2oczp dsh4tgtl sy6s5v3r gz7w46tb lyutrhe2 qfejxiq4 fewfhwl7 ovhn1urg ap18qm3b ikwl5qvt j90th5db aumms1qt">36</span></div></span><span></span><span></span></div></div></div>, <div class="_3OvU8"><div aria-colindex="2" class="_3vPI2" role="gridcell"><div class="zoWT4"><span class="ggj6brxn gfz4du6o r7fjleex g0rxnol2 lhj4utae le5p0ye3 l7jjieqr i0jNr" dir="auto" title="Nadou">Nadou</span></div><div class="_1i_wG"></div></div><div class="_37FrU"><div class="_1qB8f"></div><div aria-colindex="1" class="_1i_wG" role="gridcell"><span></span><span></span><span></span></div></div></div>, <div class="_3OvU8"><div aria-colindex="2" class="_3vPI2" role="gridcell"><div class="zoWT4"><span class="ggj6brxn gfz4du6o r7fjleex g0rxnol2 lhj4utae le5p0ye3 l7jjieqr i0jNr" dir="auto" title="Arold Mambila">Arold Mambila</span></div><div class="_1i_wG">hier</div></div><div class="_37FrU"><div class="_1qB8f"><span class="Hy9nV" title="dans ma chambre"><span class="ggj6brxn gfz4du6o r7fjleex g0rxnol2 lhj4utae le5p0ye3 l7jjieqr i0jNr" dir="ltr">dans ma chambre</span></span></div><div aria-colindex="1" class="_1i_wG" role="gridcell"><span></span><span></span><span></span></div></div></div>]


 xpath = '//*[@id="side"]/header/div[2]/div/span/div[3]/div/span'
 parametres_xpath = '//*[@id="side"]/header/div[2]/div/span/div[3]/span/div[1]/ul/li[6]/div[1]'
 name_xpath = '//*[@id="app"]/div[1]/div[1]/div[2]/div[1]/span/div[1]/span/div[1]/div/div[1]/div[2]/div[1]/div/span'
 back_btn_xpath = '//*[@id="app"]/div[1]/div[1]/div[2]/div[1]/span/div[1]/span/div[1]/header/div/div[1]/button'



  def get_bot_name_old(self):
        """
        Methode qui permet de recuperer le nom du compte Whatstapp qu'utilise le bot.
        """
        logger.info("Recuperation du nom de l'utilisateur du compte associe ...")
        name = None
        max_retry = 5
        trying = 0
        while (not name) and (trying < max_retry):
            # xpath = "/html/body/div[1]/div[1]/div[1]/div[2]/div[1]/span/div[1]/span/div[1]/div/div[2]/div[1]/div[1]/div[2]/div/div[1]"
            #//*[@id="app"]/div[1]/div[1]/div[2]/div[1]/span/div[1]/span/div[1]/div/div[2]/div[2]/div[1]/div/div/div[2]
            xpath = "/html/body/div[1]/div[1]/div[1]/div[3]/div/header/div[1]/div/div/span"
            
            wait = WebDriverWait(self.driver, 60)
            pp = wait.until(EC.presence_of_element_located((
                    By.XPATH, xpath
                )))
            try:
                time.sleep(2)
                pp.click()
            except ElementClickInterceptedException:
                xpath = "/html/body/div[1]/div[1]/div[1]/div[3]/div/header/div[1]/div/img"
                wait = WebDriverWait(self.driver, 60)
                pp = wait.until(EC.presence_of_element_located((
                    By.XPATH, xpath
                )))
                time.sleep(2)
                pp.click()
            except Exception as e:
                logger.exception("Exception while trying to click on a the pp: ", e)
            htmlcode = (self.driver.page_source).encode('utf-8')
            soup = BeautifulSoup(htmlcode, features="html.parser")
            div = soup.find('div', {"class":"_13NKt"})
            name = div.text
            if not name:
                divs = soup.find_all('div', {"class":"_35MnE"})
                logger.info("else: LE DIV DU NOM EST {}".format(divs))
                for div in divs:
                    logger.info("DIV.DIV.DIV.TEXT={}".format(div.div.text))
                # name = div.div.div.text
            # try:
            #     div = soup.find('div', {"class":"_13NKt"})
            #     print(div.text)
            #     name = div.text
            # except TimeoutException:
            #     div = soup.find('div', {"class":"_35MnE"})
                # print(div.div.text)
                # name = div.div.text
            logger.critical("Le nom de l'utilisateur est {}".format(name))
            trying += 1
        if name:
            logger.info("J'ai trouve le nom du bot: ", name)
            try:
                self.bot_memory = BotMemory.get(bot_name=name)
            except DoesNotExist:
                self.bot_memory = BotMemory.create(bot_name=name)
                self.bot_memory.save()
            xpath = "/html/body/div[1]/div[1]/div[1]/div[2]/div[1]/span/div[1]/span/div[1]/header/div/div[1]/button"
            time.sleep(2)
            try:
                self.driver.find_element_by_xpath(xpath).click()
            except:
                pass
        else:
            logger.critical('Impossible de trouver le nom du bot. Sortie...')
            exit(1)

